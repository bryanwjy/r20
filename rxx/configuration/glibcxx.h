/* Copyright 2023-2025 Bryan Wong */

#pragma once

#include "rxx/preprocessor/concatenation.h"
#include "rxx/preprocessor/paste.h"

#ifdef _GLIBCXX_RELEASE

#  define __RXX_GLIBCXX_GCC_MAJOR RXX_PASTE(_GLIBCXX_RELEASE)

#elif defined(__GLIBCXX__)

#  define __RXX_GLIBCXX_GCC_MAJOR \
      RXX_CONCAT(__RXX_GLIBCXX_TO_GCC_MAJOR_, __GLIBCXX__)

/**
 * These are inaccurate if users are developing on a custom
 * branch of libstdc++
 * See https://gcc.gnu.org/develop.html#timeline
 * Define new version when needed, newest at the top
 * But _GLIBCXX_RELEASE is only defined for GCC > 7
 **/

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20181026 6
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20181026 5
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20181026 0

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20170704 6
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20170704 4
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20170704 0

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20161221 6
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20161221 3
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20161221 0

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20160822 6
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20160822 2
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20160822 0

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20160427 6
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20160427 1
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20160427 0

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20171010 5
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20171010 5
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20171010 0

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20160603 5
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20160603 4
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20160603 0

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20151204 5
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20151204 3
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20151204 0

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20150716 5
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20150716 2
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20150716 0

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20150422 5
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20150422 1
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20150422 0

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20160803 4
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20160803 9
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20160803 4

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20150626 4
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20150626 9
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20150626 3

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20141030 4
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20141030 9
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20141030 2

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20140716 4
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20140716 9
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20140716 1

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20140422 4
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20140422 9
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20140422 0

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20150623 4
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20150623 8
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20150623 5

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20141219 4
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20141219 8
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20141219 4

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20140522 4
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20140522 8
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20140522 3

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20131016 4
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20131016 8
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20131016 2

#  define __RXX_GLIBCXX_TO_GCC_MAJOR_20130531 4
#  define __RXX_GLIBCXX_TO_GCC_MINOR_20130531 8
#  define __RXX_GLIBCXX_TO_GCC_PATCH_20130531 1

#endif
